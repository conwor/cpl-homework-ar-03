# Лабораторная №3 - Аллокатор

## Описание

Вам предстоит реализовать _pool-аллокатор_ - механизм распределения динамической памяти, выделяющий
разово один участок памяти посредством стандартной функции `malloc` и затем реализующий функции,
аналогичные стандартным `malloc`, `calloc`, `realloc` и `free`.

Аллокатор должен использовать арены, специализированные под объекты, размер которых не превышает 8,
16, 24 и т.д. байт, до 128 включительно. Операции `malloc` и `free` для таких арен должны работать
за `O(1)` времени и `O(1)` дополнительной памяти.

Для выделения объектов больше 128 байт, и в случае окончания места в специализированной арене,
должна использоваться `large`-арена, реализованная произвольным способом, без ограничения на время
работы операций и дополнительную память, но с требованием того, чтобы она была способна
перевыделять память, размера меньше либо равного только что освобождённому, то есть в любой момент
времени последовательность вызовов `free(p); malloc(n);` обязана вернуть корректный ненулевой
указатель, если `n <= sizeof(*p)`.

Размер каждой специализированной арены по умолчанию - 10 MB. Размер `large`-арены - 300 MB.

## Детали компиляции

Начиная с этого задания, ваше приложение должно компилироваться и работать в двух режимах (четырёх,
с учётом компиляции для 32-битной и 64-битной архитектур):
* _Стандартный аллокатор_ - компилятор использует дополнительные ключи компиляции, определяя
  object-like макрос `USE_STD_ALLOC`. Например, компилятор GCC для этого использует ключи
  `-D USE_STD_ALLOC`.
* _Собственный аллокатор_ - компиляция без дополнительных ключей

В режиме стандартного аллокатора (он всегда будет первый в тестировании) ваше приложение должно
использовать стандартные функции выделения памяти. В режиме собственного аллокатора:
* Ваш аллокатор должен инициализироваться при старте приложения (либо при первой попытке выделения
  памяти)
* Он должен использоваться всё время работы программы вместо стандартных функций выделения памяти
* При штатном завершении работы программы (по оператору `return` из функции `main`, либо по вызову
  функции `exit`) аллокатор должен деинициализироваться. Для этого его деинициализация должна быть
  зарегистрирована в качестве `atexit` коллбэка.

Для реализации режимов компиляции воспользуйтесь директивами условной компиляцией и определите
function-like макросы с именами, совпадающими со стандартными функциями выделения памяти.

## Тестирование

Для проверки работоспособности аллокатора возьмите ваше решение лабораторной №2 (Реализация
динамического массива макросами) и замените в нём все использования стандартных функций выделения
памяти на созданные вами.

Поправленное решение должно проходить те же самые тесты (в этом задании приложены аналогичные тем,
которые были в лабораторной №2).

## Пример

### Входные данные

```
Buffalo buffalo Buffalo buffalo buffalo buffalo Buffalo buffalo
```

### Выходные данные

```
buffalo: 8 (100.00 %)

```
